
@{
    ViewBag.Title = "CreateUser";
    //Layout = "~/Views/Shared/EsselMaster.cshtml";
}


<div class="row">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12">
            <!-- Example Tabs Left-->
            <div class="card-inner">
                <button class="btn btn1 btn-success" id="btnewLedger" onclick="ViewAddNewUserModel()">Create New Employee</button>
                <input type="text" value="0" id="txtNUCreatedby" style="display:none" />
                <div id="divUserDetailsGrid">
                    @Html.Action("ViewUsersGrid", "Home")
                </div>
            </div>
        </div>
    </div>
</div>
<div id="AddNewUserModal" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Create Employee</h4>
            </div>
            <div class="modal-body" style="overflow-x:hidden">
                @Html.Action("AddnewUser", "Home")
            </div>
        </div>

    </div>
</div>
<div id="AddNewDepartment" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">New Department</h4>
            </div>
            <div class="modal-body" style="overflow-x:hidden">
                <form onsubmit="return false">
                    @*<div class="container">*@
                        <div class="row">
                            <div class="col-lg-3 text-center"> <label>Department Name</label></div>
                            <div class="col-lg-4"> <input type="text" id="txtNDeptname" class="form-control" /></div>
                            <div class="col-lg-3">
                                <input type="submit" value="Submit" class="btn btn1 btn-success" id="btnaddnewDept" onclick="SubmitDeparment()" /> &nbsp;&nbsp;
                                <input type="reset" value="Reset" class="btn btn1 btn-success" onclick="ResetDept()" />
                            </div>
                        </div>   
                
                        <div class="col-md-12">
                            <br />
                            <div class="text-center">
                                <div id="divAddDeptInfoMsg" class="alert alert-danger hidden">
                                </div>
                            </div>
                        </div>
                    @*</div>*@

                </form>
            </div>
        </div>

    </div>
</div>
<div id="AddNewDesignation" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">New Designation</h4>
            </div>
            <div class="modal-body" style="overflow-x:hidden">
                <form onsubmit="return false">
                    @*<div class="container">*@
                    <div class="row">
                        <div class="col-lg-3 text-center"> <label>Designation Name</label></div>
                        <div class="col-lg-4"> <input type="text" id="txtNDesignation" class="form-control" /></div>
                        <div class="col-lg-3">
                            <input type="submit" value="Submit" class="btn btn1 btn-success" id="btnaddnewDesign" onclick="SubmitDesignation()" /> &nbsp;&nbsp;
                            <input type="reset" value="Reset" class="btn btn1 btn-success" onclick="ResetDesign()" />
                        </div>
                    </div>

                    <div class="col-md-12">
                        <br />
                        <div class="text-center">
                            <div id="divAddDesignInfoMsg" class="alert alert-danger hidden">
                            </div>
                        </div>
                    </div>
                    @*</div>*@

                </form>
            </div>
        </div>

    </div>
</div>
@*<div id="EditUserModal" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">
       
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Edit User</h4>
            </div>
            <div class="modal-body" style="overflow-x:hidden">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>User name</label>
                            <input type="text" id="txtUpUsername" class="form-control" readonly="readonly" />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>User Role</label>
                            <select id="ddlUpNewRole" class="form-control dropdown-toggle">
                                <option value="select">-Please Select-</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="text-right">
                            <input type="submit" class="btn btn1 btn-success" id="btnEditUser" onclick="EditUserData()" value="Submit" />
                            <input type="text" id="txtUpUId" class="form-control" style="display:none" />
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="text-center">
                            <br />
                            <div id="divUpUserInfoMsg" class="alert alert-danger hidden">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>*@

<script type="text/javascript">
    $(document).ready(function () {
        var Sessioncreated = '@Session["Createdby"]';
        $("#txtNUCreatedby").val(Sessioncreated);
        $("#EditUserModal").on("hidden.bs.modal", function () {
            $("#divUserDetailsGrid").load('/Home/ViewUsersGrid');
        });

        $("#AddNewDepartment").on("hidden.bs.modal", function () {
          
                    $('#AddNewUserModal').modal('show');

                    $(this).off('hidden.bs.modal'); // Remove the 'on' event binding
            RebindDepartments();
        });

        $("#AddNewDesignation").on("hidden.bs.modal", function () {

            $('#AddNewUserModal').modal('show');

            $(this).off('hidden.bs.modal'); // Remove the 'on' event binding
            RebindDepartments();
        });

        
    });
</script>


