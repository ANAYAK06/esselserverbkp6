@model List<EsselTestLocalApplication.Models.Purchase.Transfer>
@Styles.Render("~/bundles/Accounts/css")
@Scripts.Render("~/bundles/Purchase")
<div class="col-md-12">
    <table id="tblitemstransferGrid" style="width:100%" class="hover stripe nowrap example dataTable no-footer">
        <thead>
            <tr><th colspan="9" style="text-align:center;color:#fff !important;background-color:#4682B4 !important;font-weight:normal; white-space: normal;font-size:15px;">Transfer Items</th></tr>
            <tr>
                <th style="text-align:center;color:#fff !important;background-color:#004d99 !important;font-weight:normal; white-space: normal;font-size:10px">Item Code</th>
                <th style="text-align:center;color:#fff !important;background-color:#004d99 !important;font-weight:normal; white-space: normal;font-size:10px">Item Name</th>
                <th style="text-align:center;color:#fff !important;background-color:#004d99 !important;font-weight:normal; white-space: normal;font-size:10px">Specification</th>
                <th style="text-align:center;color:#fff !important;background-color:#004d99 !important;font-weight:normal; white-space: normal;font-size:10px">Basic Price</th>
                <th style="text-align:center;color:#fff !important;background-color:#004d99 !important;font-weight:normal; white-space: normal;font-size:10px">Transfer Quantity</th>
                <th style="text-align:center;color:#fff !important;background-color:#004d99 !important;font-weight:normal; white-space: normal;font-size:10px">Transfer Value</th>
                <th style="text-align:center;color:#fff !important;background-color:#004d99 !important;font-weight:normal; white-space: normal;font-size:10px">Depriciation %</th>
                <th style="text-align:center;color:#fff !important;background-color:#004d99 !important;font-weight:normal; white-space: normal;font-size:10px">Depriciation Value</th>
                <th style="text-align:center;color:#fff !important;background-color:#004d99 !important;font-weight:normal; white-space: normal;font-size:10px">Item Status</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
            <tr>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px">
                    @Html.DisplayFor(modelItem => item.ItemCode)
                </td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px">
                    @Html.DisplayFor(modelItem => item.ItemName)
                </td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px">
                    @Html.DisplayFor(modelItem => item.Specification)
                </td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px">
                    @Html.DisplayFor(modelItem => item.Basic)
                </td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px">
                    @Html.DisplayFor(modelItem => item.TransferredQty)
                </td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px">
                    @Html.DisplayFor(modelItem => item.Value)
                </td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px">
                    @Html.DisplayFor(modelItem => item.DepriciationPercentage)
                </td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px">
                    @Html.DisplayFor(modelItem => item.DepriciationAmount)
                </td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px">
                    @Html.DisplayFor(modelItem => item.Status)
                </td>
            </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px;"><label id="TransValue" style="color:green; font-weight:bold"></label></td>
                <td></td>
                <td style="text-align:center;font-weight:normal; white-space: normal;font-size:11px"><label id="DepValue" style="color:green; font-weight:bold"></label></td>
                <td></td>
            </tr>
        </tfoot>
    </table>
    <br />
</div>
<script>
     $(document).ready(function () {     
         var sumTV = 0;      
         var sumDV = 0;
         $("#tblitemstransferGrid tbody tr").each(function () {
            var currentRow = $(this).closest("tr");           
             var TV = currentRow.find("td").eq(5).html();            
             var DV = currentRow.find("td").eq(7).html();
             sumTV = parseFloat(sumTV) + parseFloat(TV);
             sumDV = parseFloat(sumDV) + parseFloat(DV);           

        });
         $("#tblitemstransferGrid tfoot tr").each(function () {          
             $("#TransValue").html(parseFloat(sumTV).toFixed(2));             
             $("#DepValue").html(parseFloat(sumDV).toFixed(2));
        });
    });
</script>